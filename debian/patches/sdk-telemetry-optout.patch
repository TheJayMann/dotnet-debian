From: TheJayMann <736769+TheJayMann@users.noreply.github.com>
Date: Sun, 18 Jun 2023 10:46:59 -0400
Subject: sdk-telemetry-optout

---
 src/sdk/src/Cli/dotnet/Program.cs | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/src/sdk/src/Cli/dotnet/Program.cs b/src/sdk/src/Cli/dotnet/Program.cs
index 30408da..9d56526 100644
--- a/src/sdk/src/Cli/dotnet/Program.cs
+++ b/src/sdk/src/Cli/dotnet/Program.cs
@@ -27,6 +27,13 @@ public class Program
 
         public static int Main(string[] args)
         {
+            // opt out of telemetry by default if the env var is unset
+            string telemetryValue = Environment.GetEnvironmentVariable("DOTNET_CLI_TELEMETRY_OPTOUT");
+            if (String.IsNullOrEmpty(telemetryValue))
+            {
+                Environment.SetEnvironmentVariable("DOTNET_CLI_TELEMETRY_OPTOUT", "1");
+            }
+
             //setting output encoding is not available on those platforms
             if (!OperatingSystem.IsIOS() && !OperatingSystem.IsAndroid() && !OperatingSystem.IsTvOS())
             {
